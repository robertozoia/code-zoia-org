<!DOCTYPE html>
<html><head>
    
    
    <title>
        Setting up an OpenERP v7 development environment on OSX using virtualenv
    </title>
    
    <meta charset="utf-8">
    <meta name="generator" content="Hugo 0.91.2" />
     <meta property="og:title" content="Setting up an OpenERP v7 development environment on OSX using virtualenv" />
<meta property="og:description" content="Nowdays I develop mostly on OSX using Python. I am particularly fond of using virtualenv and virtualenvwrapper for keeping separate environments for each project, so that the system&rsquo;s Python distribution does not get contaminated with the project dependencies. (This also helps in having a clear set of library dependencies when deploying the project to a production server.)
Some days ago, while trying to set up a development environment1 for OpenERP v." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://code.zoia.org/2013/05/09/setting-up-openerp7-on-osx-using-virtualenv/" /><meta property="article:section" content="2013" />
<meta property="article:published_time" content="2013-05-09T00:00:00+00:00" />
<meta property="article:modified_time" content="2013-05-09T00:00:00+00:00" />


    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href='/css/styles.css'>
    <link rel="stylesheet" type="text/css" href='/css/syntax.css'>
</head>
<body>
        <div class="container max-w-screen-md mx-auto"><header class="container subpixel-antialiased">
    <nav class="flex flex-wrap w-full py-4 md:py-0 text-lg text-gray-70 bg-white">
        <ul class="text-base
                   text-gray-300
                   pt-4
                   md:flex
                   md:pt-0
                   sans-serif
                   uppercase
                   "
        >
            <li class="md:pt-3
                py-2
                block"><span class="
                                    font-medium
                                    text-lg
                                    text-gray-500"
                       >code</span><span
                            class="font-medium
                                   text-logoleft
                                   text-lg"
                        >zoia</span><span
                             class="
                                    text-lg
                                    font-medium
                                    text-gray-500"
                       >org</span></li>
            
                <li><a class="text-sm md:p-4 py-2 block hover:underline" href="/about/">About</a></li>
            
                <li><a class="text-sm md:p-4 py-2 block hover:underline" href="/archive/">Archive</a></li>
            
                <li><a class="text-sm md:p-4 py-2 block hover:underline" href="/">Home</a></li>
            

        </ul>
    </nav>
</header>
</div>
        <div class="content container max-w-screen-md mx-auto mt-8 pb-16">
    <article class="pb-4 mb-10">
        <header class="border-b">
            <h1 class="text-3xl font-sans font-normal">Setting up an OpenERP v7 development environment on OSX using virtualenv</h1>
            <div class="text-sm text-gray-500">
    <time datetime='2013-05-09'>
        May 9, 2013
    </time>

    
        
        <a class="" href="https://code.zoia.org/tags/openerp">openerp</a>
        
        
        <a class="" href="https://code.zoia.org/tags/virtualenv">virtualenv</a>
        
        
        <a class="" href="https://code.zoia.org/tags/python">python</a>
        
   
</div>

        </header>
        <div class="mt-3 font-sans font-light text-gray-900">
            <p>Nowdays I develop mostly on OSX using Python.  I am particularly fond of using virtualenv and virtualenvwrapper for keeping separate environments for each project, so that the system&rsquo;s Python distribution does not get contaminated with the project dependencies.  (This also helps in having a clear set of library dependencies when deploying the project to a production server.)</p>
<p>Some days ago, while trying to set up a development environment<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup> for OpenERP v.7, I found that most of the OpenERP tutorials and manuals are centered on Linux, and only consider system-wide installation of the required libraries.</p>
<p>Here are the steps I followed to get OpenERP running on OSX 10.8.3.</p>
<h3 id="1-setup-a-virtualenv-for-your-project">1. Setup a virtualenv for your project</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ mkvirtualenv openerp-dev
</code></pre></div><h3 id="2-tell-your-environment-which-architecture-you-are-compiling-your-modules-for">2. Tell your environment which architecture you are compiling your modules for</h3>
<p>(Without this line some modules with throw errors while installing.)</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ export ARCHFLAGS<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;-arch i386 -arch x86_64&#39;</span>
</code></pre></div><h3 id="3-install-openerp-dependencies">3. Install OpenERP dependencies</h3>
<p>Most of the dependencies can be installed on your virtualenv using pip<sup id="fnref:2"><a href="#fn:2" class="footnote-ref" role="doc-noteref">2</a></sup>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ pip install python-dateutil feedparser gdata <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>python-ldap lxml mako python-openid <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>psycopg2 Babel reportlab simplejson <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>pytz vatnumber vobject python_webdav <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>Werkzeug pyparsing<span style="color:#f92672">==</span>1.5.7 pydot <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>PyYAML xlwt ZSI PIL
</code></pre></div><p>Other dependencies must be installed by hand.</p>
<p><b>pychart</b></p>
<p>Download PyChart from <a href="http://download.gna.org/pychart/PyChart-1.39.tar.gz">http://download.gna.org/pychart/PyChart-1.39.tar.gz</a> and install it into your virtual environment:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ wget http://download.gna.org/pychart/PyChart-1.39.tar.gz
$ tar xvfz PyChart-1.39.tar.gz
$ python setup.py build
$ python setup.py install
</code></pre></div><p><strong>libxslt1</strong></p>
<p>libxslt1 is included in the libxml2 library bindings for python.  Download libxml2 from xmlsoft.org:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ wget ftp://xmlsoft.org/libxml2/python/libxml2-python-2.6.11.tar.gz
$ tar xvfz libxml2-python-2.6.11.tar.gz
$ cd libxml2-python-2.6.11
$ python setup.py build
$ python setup.py install
</code></pre></div><h3 id="4-install-openerp-from-launchpad">4. Install OpenERP from launchpad</h3>
<p>If you don&rsquo;t have <b>bazar</b> installed in your Mac, you can do it easily using <a href="http://mxcl.github.io/homebrew/">brew</a>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ brew install bzr
</code></pre></div><p>Download OpenERP v7 server, addons and web addons from the development trunk of the <a href="https://launchpad.net/openobject">OpenERP Project Group on launchpad</a> using bazar (this can take some time):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ bzr lp:openobject-server/7.0          <span style="color:#75715e">#  Server</span>
$ bzr branch lp:openobject-addons/7.0   <span style="color:#75715e">#  Server addons</span>
$ bzr branch lp:openerp-web/7.0         <span style="color:#75715e">#  Web interface and addons</span>
</code></pre></div><p>Change into the <code>openerp-tools</code> directory and use <code>make</code> to download OpenERP v7:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ make init-v70
$ cd server
</code></pre></div><p>Install OpenERP into your Python environment.  The setup script will pull automatically any missing dependencies.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ python setup.py install
</code></pre></div><p>Start OpenERP server and instruct the server to create a sample configuration file for us. (The file will be named <code>.openerp_serverrc</code> and will be created in your user&rsquo;s home directory.)</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ ./openerp-server -s
</code></pre></div><h3 id="5-change-openerps-configuration-file-to-reflect-you-development-setup">5. Change OpenERP&rsquo;s configuration file to reflect you development setup</h3>
<p>Using your favorite editor, open <code>~/.openerp_serverrc</code>. The minimum changes required for OpenERP to start are:</p>
<p><b>PostgreSQL connection parameters</b></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">db_host <span style="color:#f92672">=</span> localhost    <span style="color:#75715e"># (or an IP)</span>
db_maxconn  <span style="color:#f92672">=</span> <span style="color:#ae81ff">64</span>
db_name     <span style="color:#f92672">=</span> False     <span style="color:#75715e"># don&#39;t need to specify a database name</span>
db_password <span style="color:#f92672">=</span> your_db_user_password
db_port     <span style="color:#f92672">=</span> <span style="color:#ae81ff">5432</span>
db_template <span style="color:#f92672">=</span> template1
db_user     <span style="color:#f92672">=</span> your_db_user
</code></pre></div><p><b>Server addons and web addons location</b></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">addons_path <span style="color:#f92672">=</span> /Users/<span style="color:#f92672">(</span>...<span style="color:#f92672">)</span>/openerp-tools/addons/,/Users/<span style="color:#f92672">(</span>...<span style="color:#f92672">)</span>/openerp-tools/web/addons/
</code></pre></div><p>Note that there are no spaces between paths, just a comma. (It took me some time to figure out why my paths were not being recognized by OpenERP.)</p>
<h3 id="6-start-your-openerp-server-using-your-configuration-file">6. Start your OpenERP server using your configuration file</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ ./openerp-server -c /path/to/.openerp_serverrc
</code></pre></div><p>Launch your favorite browser and point to localhost:8069, and you should see the OpenERP login screen.</p>
<section class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1" role="doc-endnote">
<p>OpenERP in this development environment runs in a terminal shell, as opposed to a production webserver like Apache.&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:2" role="doc-endnote">
<p>This list was extracted from <a href="http://doc.openerp.com/v6.1/install/linux/server/index.html#installing-the-required-packages">OpenERP dependencies for Linux</a>. PyParsing version is important because versions higher than 1.5.7 are for Python 3.&#160;<a href="#fnref:2" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</section>

        </div>
    </article>


        </div>
        <footer class="footer fixed inset-x-0 bottom-0 w-full bg-black text-gray-100 text-sm">
    <div class="container max-w-screen-md mx-auto pt-4 py-4">
        The footer.
    </div>
</footer>

    </body>
</html>
